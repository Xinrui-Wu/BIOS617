---
title: "BIOS 617 - Lecture 1"
author: "Walter Dempsey"
date: "1/8/2019"
output: 
  ioslides_presentation:
    css: styles.css
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

## BIOS 617 slides in R Markdown

All course slides will be written as R Markdown presentations. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. This lets me share slides and code all in one document making all lecture content reproducible!

PDF copies are available on **canvas** while the RMD files and data will be available at <https://github.com/wdempsey/BIOS617>.

## Probability sampling?

- Statisticians receive data to analyze
  - How is it collected?
  - Common assumptions
- Historical strategies involved non-probability sampling
  - Purposive samples:
    - Choose both average and extreme elements to cover range of distribution
    - Useful strategy for h
- No guarantee that any of these are *representative*

## Example 1: Brexit data
```{r brexit, echo = FALSE, include = FALSE}
# load libraries
library(dslabs)
library(tidyverse)
library(ggrepel)
library(matrixStats)

# set colorblind-friendly color palette
colorblind_palette <- c("black", "#E69F00", "#56B4E9", "#009E73",
                        "#CC79A7", "#F0E442", "#0072B2", "#D55E00")
data(brexit_polls)
```

```{r cars, echo = FALSE, fig.align='center'}
# plot of Brexit referendum polling spread between "Remain" and "Leave" over time
brexit_polls %>%
  ggplot(aes(enddate, spread, color = poll_type)) +
  geom_hline(aes(yintercept = -.038, color = "Actual spread")) +
  geom_smooth(method = "loess", span = 0.4) +
  geom_point() +
  scale_color_manual(values = colorblind_palette[1:3]) +
  xlab("Poll end date (2016)") +
  ylab("Spread (Proportion Remain - Proportion Leave)") +
  labs(color = "Poll type") +
  ggtitle("Spread of Brexit referendum online and telephone polls")
```

## Slide with Plot

```{r pressure}
plot(pressure)
```


## Sampling frame

- Used to obtain sample from the (finite) population of interest


## Review of expectations
* Continuous variable $X$ then $\mu_x = E[X]=\int x f_x(x) dx$. 
* Linearity of expectations,
$$ E [ a X ] = \int a x f_x (x) dx = a \int x f_x (x) dx = a E[ X ] $$
* Two continuous variables $X$ and $Y$, then
$$ 
\begin{align*} 
E[ X + Y ] &= \int \int (x+y) f_{xy} (x,y) dx dy \\
&= \int \int x f_{xy} (x,y) dx dy + \int \int y f_{xy} (x,y) dx dy \\
&= \int x \left[ \int f_{xy} (x,y) dy \right] dx + \int y \left[ \int f_{xy} (x,y) dy \right] dx
\end{align*}
$$

## Review of expectations
* Two continuous variables $X$ and $Y$, then
$$ 
\begin{align*} 
E[ X + Y ] &= \int x \left[ \int f_{xy} (x,y) dy \right] dx + \int y \left[ \int f_{xy} (x,y) dy \right] dx \\
&= \int x f_{x} (x) dx + \int y f_{y} (y) dy \\
&= E[X] + E[Y].
\end{align*}
$$
- If $X$ and $Y$ independent, then
$$\small 
\begin{align*} 
E[X \cdot Y ] &= \int \int x y f_{xy} (x,y) dy dx = \int x f_x (x)  \left[ \int y f_y (y) dy \right] dx \\
&= E[Y] \int x f_x (x) dx = E[X] \cdot E[Y].
\end{align*}
$$

## Review of variances
* For $X$ and $Y$, the variance is $$\small Cov(X.Y) = E [ (X-\mu_x ) (Y - \mu_y) ]$$ and $V(X) = Cov(X,X)$.
* For random variables~$\{ X_j \}_{j=1}^k$, 
$$
V(\sum_j a_j X_j ) = \sum_j a_j^2 V(X_j) + 
$$